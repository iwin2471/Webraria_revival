{
  "version": 3,
  "sources": ["../src/js/canvas.ts", "../src/js/tilemap.js", "../src/js/worldgen.ts", "../src/js/Position.mts", "../src/js/player.mts", "../src/js/realtime.js", "../src/js/index.ts"],
  "sourcesContent": ["export default class Canvas {\n  private element: HTMLCanvasElement;\n  private context: CanvasRenderingContext2D;\n  private static instance: Canvas;\n  private constructor() {}\n\n  public static getInstance() {\n    if (this.instance == null) {\n      this.instance = new Canvas();\n    }\n    return this.instance;\n  }\n\n  //TODO:\n  //\uAC8C\uC784 \uCE74\uBA54\uB77C \uB4F1 \uC124\uC815 \uBAA8\uB450 \uB2E4 \uC62E\uAE30\uAE30\n  //\uC2A4\uD0C0\uB4C0, \uC0CC\uB4DC\uBC15\uC2A4, \uD14C\uB77C\uB9AC\uC544, \uB178\uB9E8\uC2A4\uC2A4\uCE74\uC774, \uAD74\uCC29\uAE30\n  //\uC6F9\uC9C0\uC5D8 \uBE60\uB978\uBCC0\uACBD\n  public initElement(canvasId: string) {\n    this.element = document.getElementById(canvasId) as HTMLCanvasElement;\n    this.context = this.element.getContext(\"2d\");\n    this.context.scale(2, 2);\n    this.context.translate(0, -2500);\n  }\n\n  public getContext() {\n    return this.context;\n  }\n\n  public getElement() {\n    return this.element;\n  }\n}\n", "var terrainTileSet = [,];\nvar terrainOreSet = [,];\n\nvar worldTerrainSave = new Array();\n\nfor (var i = 0; i < 1920 * 5; i++) {\n  worldTerrainSave[i] = new Array();\n}\n\n//Dirt Images\nterrainTileSet[(0, 0)] = new Image();\nterrainTileSet[(0, 0)].src = \"Resource/Tiles/dirt/floor_dirt01.png\";\nterrainTileSet[(0, 1)] = new Image();\nterrainTileSet[(0, 1)].src = \"Resource/Tiles/dirt/floor_dirt02.png\";\nterrainTileSet[(0, 2)] = new Image();\nterrainTileSet[(0, 2)].src = \"Resource/Tiles/dirt/floor_dirt03.png\";\nterrainTileSet[(0, 3)] = new Image();\nterrainTileSet[(0, 3)].src = \"Resource/Tiles/dirt/floor_dirt04.png\";\n\n//Water Images\nterrainTileSet[(1, 4)] = new Image();\nterrainTileSet[(1, 4)].src = \"Resource/Tiles/liquid/water_opacity_90.png\";\nterrainTileSet[(1, 5)] = new Image();\nterrainTileSet[(1, 5)].src = \"Resource/Tiles/liquid/water_opacity_95.png\";\nterrainTileSet[(1, 6)] = new Image();\nterrainTileSet[(1, 6)].src =\n  \"Resource/Tiles/liquid/water_surface_opacity_90.png\";\nterrainTileSet[(1, 7)] = new Image();\nterrainTileSet[(1, 7)].src =\n  \"Resource/Tiles/liquid/water_surface_opacity_95.png\";\n\n//Object Images\nterrainOreSet[0] = new Image();\nterrainOreSet[0].src = \"Resource/Tiles/Mineral/copperS.png\";\n\nterrainOreSet[1] = new Image();\nterrainOreSet[1].src = \"Resource/Tiles/Mineral/iro.png\";\n\nterrainOreSet[2] = new Image();\nterrainOreSet[2].src = \"Resource/Tiles/Mineral/dia2.png\";\n\nterrainOreSet[3] = new Image();\nterrainOreSet[3].src = \"Resource/Tiles/object/stone.png\";\n\nterrainOreSet[4] = new Image();\nterrainOreSet[4].src = \"Resource/Tiles/dirt/floor_dirt04.png\";\n\nvar oreTileSet = [,];\n\nvar tileSet = [terrainTileSet, oreTileSet];\n\nexport { tileSet, worldTerrainSave, terrainTileSet, oreTileSet };\n", "import Canvas from \"./canvas\";\nimport { worldTerrainSave, tileSet } from \"./tilemap\";\nlet cnt = 0;\n\n//Polish \uD558\uAE30\n//\uB3D9\uAD74 \uBC0F \uBC14\uB2E4 \uAC15, \uB3CC\uACFC \uC624\uC5B4\n//\uC800\uC7A5\uD558\uB294\uAC70\n\nlet lastLayer = [];\nlet layerCnt = 0;\n\nfunction drawWorld() {\n  const canvas: Canvas = Canvas.getInstance();\n  const element: HTMLCanvasElement = canvas.getElement();\n  const context: CanvasRenderingContext2D = canvas.getContext();\n  let tileMapString = \"\";\n  let perc = 0.1;\n  let height;\n  let heightCnt = 0;\n  let firstCnt = 0;\n  let mapHeight = element.height * 5;\n  let mapWidth = element.width * 5;\n  let heightDiffValue = 0;\n  //\uD130\uB808\uC778 \uC624\uBE0C\uC81D\uD2B8\uD654\n  //\uB2E8\uC704 \uBC14\uAFD4\uC57C\n\n  var orePercentage;\n\n  setInterval(() => {\n    while (cnt == 0) {\n      context.clearRect(0, 0, mapWidth, mapHeight);\n\n      height = mapHeight / 2;\n\n      for (var i = 0; i < mapWidth; i += 8) {\n        if (Math.floor(Math.random() * 2) == 0) {\n          heightDiffValue = Math.ceil(Math.random() * 2);\n          height -= Math.ceil(Math.random() * heightDiffValue * 8);\n        } else {\n          height += Math.ceil(Math.random() * heightDiffValue * 8);\n        }\n\n        firstCnt = 0;\n\n        for (var j = 0; j < mapHeight; j += 1) {\n          worldTerrainSave[i][j] = false;\n          if (j > height) {\n            if (firstCnt == 0) {\n              if (j % 8 == 0) {\n                var randomTop = Math.floor(Math.random() * 3);\n                context.drawImage(tileSet[0][(0, randomTop)], i, j);\n                worldTerrainSave[i][j] = true;\n                firstCnt++;\n              }\n            } else {\n              worldTerrainSave[i][j] = true;\n              if (j % 8 == 0) {\n                context.drawImage(tileSet[0][(0, 3)], i, j);\n              }\n            }\n          }\n        }\n      }\n      console.log(\"World Loading Complete\");\n      cnt++;\n    }\n  }, 500);\n}\n\nexport { drawWorld };\n", "export default class Position {\n  public x: number;\n  public y: number;\n\n  constructor();\n  constructor(x?: number, y?: number) {\n    this.x = x;\n    this.y = y;\n  };\n\n  setX(x: number) {\n    this.x = x;\n  }\n\n  setY(y: number) {\n    this.y = y;\n  }\n}\n", "import Position from \"./Position.mts\";\nexport default class Player {\n    name: string;\n    sprite: HTMLImageElement = new Image();\n    loaded: boolean = false;\n    position: Position = new Position();\n    sideMovementSpeed: number = 8;\n    jumpForce: number = 24;\n    canJump: boolean = false;\n\n\n    constructor(playerName: string, spriteSrc: string) {\n        this.name = playerName;\n        this.sprite.src = spriteSrc;\n        this.sprite.onload = ()=> {\n            this.loaded = true;\n        }\n    }\n}\n\n", "import Player from \"./player.mts\";\nimport Canvas from \"./canvas\";\nimport { worldTerrainSave } from \"./tilemap\";\n\nconst player = new Player(\"JohnSoo\", \"Resource/Character/3.png\");\nconst framesPerSecond = 60;\n\nfunction startGame() {\n  window.addEventListener(\"keydown\", onKeyDown);\n  window.addEventListener(\"keyup\", onKeyUp);\n  const context = Canvas.getInstance().getContext();\n\n  player.xPos = 0;\n  player.yPos = 2400;\n\n  //\uBA87\uAC00\uC9C0 \uC624\uB958\uC218\uC815\n  setInterval(function () {\n    context.clearRect(player.xPos, player.yPos, 8, 16);\n\n    // console.log(lastLayer[Math.floor(player.xPos / 8)].toString());\n\n    if (worldTerrainSave[player.xPos][player.yPos + 16] == false) {\n      player.yPos += 2;\n    } else {\n      player.canJump = true;\n    }\n\n    context.rect(player.xPos, player.yPos, 8, 15);\n    context.fillStyle = \"skyblue\";\n    context.fill();\n\n    context.drawImage(player.sprite, player.xPos, player.yPos, 8, 16);\n    //console.log(\"Player Drawn Loc X : \" + player.xPos + \" Loc Y : \" + player.yPos + \" CanJump : \" + player.canJump);\n    //            console.log(\"Left : \" + worldTerrainSave[player.xPos - 8][player.yPos + 15]);\n    //            console.log(\"Right : \" + worldTerrainSave[player.xPos + 8][player.yPos + 15]);\n  }, (1000 * 1) / framesPerSecond);\n}\n\nfunction onKeyDown({ keyCode }) {\n  switch (keyCode) {\n    case 37:\n      if (\n        !worldTerrainSave[player.xPos - player.sideMovementSpeed][\n          player.yPos + 15\n        ]\n      ) {\n        player.xPos -= player.sideMovementSpeed;\n      }\n      break;\n    case 32:\n    case 38:\n      if (!player.canJump) break;\n      player.yPos -= player.jumpForce;\n      player.canJump = false;\n      break;\n    case 39:\n      if (\n        worldTerrainSave[player.xPos + player.sideMovementSpeed][\n          player.yPos + 15\n        ] == false\n      ) {\n        player.xPos += player.sideMovementSpeed;\n      }\n      break;\n    case 40:\n      player.yPos += 10;\n      break;\n  }\n}\n\nfunction onKeyUp({ keyCode, type }) {}\n\nexport { startGame, onKeyDown, onKeyUp, player };\n", "import Player from \"./player.mts\";\nimport Canvas from \"./canvas\";\nimport { drawWorld } from \"./worldgen\";\nimport { startGame } from \"./realtime\";\n\nfunction init() {\n  Canvas.getInstance().initElement(\"mainCanvas\");\n  drawWorld();\n  startGame();\n}\n\ninit();\n"],
  "mappings": "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",
  "names": []
}
